import{u as a,p as e,c as s,a as l,q as t,B as i,r as n,b as u,d as r,e as o,f as d,g as c,h as v,t as p,i as f,F as m,j as h,k as g,v as x,l as b,m as k,o as y,n as _}from"./index.73d977ee.js";import{u as w,a as P}from"./page.cebb6174.js";const C={class:"milk-header"},N={class:"header-nav"},j={class:"nav-menu"},A={id:"Home"},B=o("i",{class:"fa fa-home","aria-hidden":"true"},null,-1),F={id:"Archives"},H=o("i",{class:"fa fa-archive","aria-hidden":"true"},null,-1),L={id:"About"},q=o("i",{class:"fa fa-user-circle","aria-hidden":"true"},null,-1),z=o("span",{class:"nav-date"},[o("i",{class:"fa fa-calendar","aria-hidden":"true"}),o("span",{id:"date"})],-1),I=o("span",{class:"nav-system",id:"nav-system"},null,-1),M={class:"nav-access"},Q=o("i",{class:"fa fa-universal-access",id:"nav-access"},null,-1),R=o("i",{class:"fa fa-angle-down"},null,-1),T={class:"dropdown-content",id:"dropdown-content"},U=k('<ul class="social"><li><a href="https://github.com/Ajinya57/FinalBlog" target="_blank" rel="noopener"><i class="fa fa-github-alt" aria-hidden="true"></i></a></li><li><a href="mailto:zhongyejun168@gmail.com"><i class="fa fa-envelope" aria-hidden="true"></i></a></li></ul>',1),$={key:0},D={key:0},E={href:"Login.vue",target:"_blank",rel:"noopener"},G={key:1},J={key:1},K=o("a",{href:"Login.vue",target:"_blank",rel:"noopener"},"***",-1),O={key:0},S={class:"milk-body"},V={class:"win"},W={id:"category"},X={class:"win-title"},Y={class:"win-body"},Z={class:"win-list"},aa=["datetime"],ea={class:"paginator"},sa={key:0,class:"page-number current"},la={key:2,class:"space"};var ta={__name:"Categories",setup(k){const ta=a(),ia=e(),na=s((()=>ta.getters.user)),ua=()=>{ta.dispatch("logout")},ra=l(""),oa=l([]),da=l(0);w(),P(),t((async()=>{const a=await i.get(`/api/getCategories.php?id=${ia.params.id}`);ra.value=a.data.name,oa.value=a.data.blogs,da.value=oa.value.length}));const ca=n({isPrev:!1,isNext:!1}),va=l(1),pa=s((()=>{ga();const a=10*(va.value-1),e=10*va.value;return oa.value.slice(a,e)}));var fa=n([]);const ma=()=>{va.value--},ha=()=>{va.value++},ga=()=>{const a=Math.ceil(da.value/10);if(fa=n([]),a<=1)fa.push({text:1});else{if(1===va.value?ca.isPrev=!1:ca.isPrev=!0,a<=8)for(let e=1;e<=a;e++)fa.push({text:e});else{if(va.value<=2)for(let a=1;a<=4;a++)fa.push({text:a});else fa.push({text:1}),fa.push({text:"..."});if(va.value>=3&&va.value<=a-3)for(let a=va.value-1;a<=va.value+1;a++)fa.push({text:a});if(va.value>=a-2)for(let e=a-2;e<=a;e++)fa.push({text:e});else fa.push({text:"..."}),fa.push({text:a})}va.value===a?ca.isNext=!1:ca.isNext=!0}};return(a,e)=>{const s=u("router-link");return y(),r(m,null,[o("div",C,[o("nav",N,[o("ul",j,[o("li",A,[B,d(s,{to:"/home"},{default:c((()=>[v("Home")])),_:1})]),o("li",F,[H,d(s,{to:"/archives"},{default:c((()=>[v("Archives")])),_:1})]),o("li",L,[q,d(s,{to:"/about"},{default:c((()=>[v("About")])),_:1})])]),z,I,o("span",M,[Q,R,o("div",T,[U,o("ul",null,[na.value?(y(),r("li",$,[na.value.isRoot?(y(),r("span",D,[v("Power by "),d(s,{to:{path:"/login"}},{default:c((()=>[o("a",E,p(na.value.name),1)])),_:1})])):(y(),r("span",G,"Power by "+p(na.value.name),1))])):(y(),r("li",J,[o("span",null,[v("Power by "),d(s,{to:{path:"/login"}},{default:c((()=>[K])),_:1})])]))]),na.value?(y(),r("ul",O,[o("li",null,[o("span",null,[d(s,{to:"/home",onClick:ua},{default:c((()=>[v("QUIT")])),_:1})])])])):f("",!0)])])])]),o("div",S,[o("div",V,[o("div",W,[o("div",X,p(ra.value.name),1),o("div",Y,[(y(!0),r(m,null,h(pa.value,(a=>(y(),r("div",Z,[d(s,{to:{name:"blog",params:{id:a.id}}},{default:c((()=>[v(p(a.title),1)])),_:2},1032,["to"]),o("time",{datetime:a.date},p(a.date),9,aa)])))),256)),o("div",ea,[g(d(s,{class:"extend prev",rel:"prev",to:{name:"categories",params:{id:b(ia).params.id,page:va.value-1}},onClick:ma},{default:c((()=>[v("Prev")])),_:1},8,["to"]),[[x,ca.isPrev]]),(y(!0),r(m,null,h(b(fa),(a=>(y(),r(m,null,[a.text===va.value?(y(),r("span",sa,p(a.text),1)):"..."!==a.text&&a.text!==va.value?(y(),_(s,{key:a.text,class:"page-number",to:{name:"categories",params:{id:b(ia).params.id,page:a.text}},onClick:e=>{return s=a.text,void(va.value=Number(s));var s}},{default:c((()=>[v(p(a.text),1)])),_:2},1032,["to","onClick"])):(y(),r("span",la,"â€¦"))],64)))),256)),g(d(s,{class:"extend next",rel:"next",to:{name:"categories",params:{id:b(ia).params.id,page:va.value+1}},onClick:ha},{default:c((()=>[v("Next")])),_:1},8,["to"]),[[x,ca.isNext]])])])])])])],64)}}};export{ta as default};
